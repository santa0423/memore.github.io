<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>내 씨앗 확인</title>
  <link rel="stylesheet" href="seeds.css">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
</head>

<body class="fixed812">
  <div class="app">
    <div class="topbar">
      <button class="nav-back" type="button" aria-label="이전" onclick="history.back()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
             xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M15 18l-6-6 6-6" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>

    <main class="container">
      <h1 class="page-title">내 씨앗을 확인해보세요.</h1>

      <img class="jar" src="images/jar.png" alt="씨앗 병">

      <section class="pieces">
        <!-- 전부 0/10로 초기화 -->
        <article class="piece c-green" data-max="10" data-value="0">
          <img class="piece-ic" src="ic_seed_physical.png" alt="물리 씨앗 아이콘">
          <div class="piece-body">
            <h3 class="piece-title">물리 씨앗 조각</h3>
            <div class="progress" aria-hidden="true"></div>
          </div>
          <span class="badge">0/10</span>
        </article>

        <article class="piece c-green" data-max="10" data-value="0">
          <img class="piece-ic" src="ic_seed_psych.png" alt="심리 씨앗 아이콘">
          <div class="piece-body">
            <h3 class="piece-title">심리 씨앗 조각</h3>
            <div class="progress" aria-hidden="true"></div>
          </div>
          <span class="badge">0/10</span>
        </article>

        <article class="piece c-brown" data-max="10" data-value="0">
          <img class="piece-ic" src="ic_seed_online.png" alt="온라인 씨앗 아이콘">
          <div class="piece-body">
            <h3 class="piece-title">온라인 씨앗 조각</h3>
            <div class="progress" aria-hidden="true"></div>
          </div>
          <span class="badge">0/10</span>
        </article>
      </section>
    </main>

    <div class="cta-wrap">
      <button class="cta" type="button" onclick="window.location.href='plant.html'">씨앗 심으러 가기</button>
    </div>
  </div>

  <script>
    // 진행 바(10칸) 렌더링
    document.querySelectorAll('.piece').forEach(card=>{
      const max = Number(card.dataset.max || 10);
      const val = Math.max(0, Math.min(max, Number(card.dataset.value || 0)));
      const bar = card.querySelector('.progress');
      bar.innerHTML = '';
      for(let i=0;i<max;i++){
        const dot = document.createElement('span');
        dot.className = 'dot' + (i < val ? ' on' : '');
        bar.appendChild(dot);
      }
      const badge = card.querySelector('.badge');
      if(badge) badge.textContent = `${val}/${max}`;
    });
  </script>
</body>
</html>
