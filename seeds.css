:root{
    --ink:#111315; --muted:#6b7280; --surface:#ffffff; --line:#e5e7eb;
    --cta:#9db85c; --cta-ink:#0f1910;
    --green:#3b7f3a; --brown:#8a6a2f; --dot-off:#eceff1;
  }
  
  *{ box-sizing:border-box; }
  html,body{ height:100%; }
  body{
    margin:0; color:var(--ink); background:#fff;
    font-family:"Noto Sans KR", system-ui, -apple-system, "Malgun Gothic", Arial, sans-serif;
    -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
  }
  
  /* 고정 여백: 상44 / 하107 / 좌우16 */
  .app{
    max-width:375px; min-height:100svh; margin:0 auto;
    padding-top:44px; padding-right:16px; padding-left:16px; padding-bottom:107px;
    display:flex; flex-direction:column; gap:16px; background:#fff;
  }
  
  /* 이전 버튼 아래로 제목 */
  .topbar{ height:36px; display:flex; align-items:center; margin-bottom:8px; }
  .nav-back{
    width:36px; height:36px; border-radius:9999px;
    display:inline-flex; align-items:center; justify-content:center;
    background:#fff; border:1px solid var(--line);
    cursor:pointer; -webkit-tap-highlight-color:transparent;
  }
  .nav-back:active{ transform:translateY(1px); }
  
  .container{ display:flex; flex-direction:column; gap:16px; align-items:center; padding-top:0; }
  
  .page-title{ margin:0; font-size:26px; font-weight:800; letter-spacing:-.3px; text-align:center; }
  
  /* 병 */
  .jar{ width:150px; height:auto; display:block; margin:4px auto 8px; object-fit:contain; }
  
  /* ===== 카드 ===== */
  .pieces{ width:100%; display:flex; flex-direction:column; gap:14px; margin-top:8px; }
  .piece{
    --fill: var(--green);
    position:relative;
    display:flex; align-items:center; gap:12px; width:100%;
    background:var(--surface); border:1px solid var(--line); border-radius:16px; padding:14px;
    cursor:pointer;
  }
  .piece.c-green{ --fill: var(--green); }
  .piece.c-brown{ --fill: var(--brown); }
  .piece-ic{ width:30px; height:30px; flex:0 0 28px; object-fit:contain; }
  .piece-body{ flex:1; min-width:0; display:flex; flex-direction:column; gap:8px; }
  .piece-title{ margin:0; font-size:16px; font-weight:700; line-height:1.25; padding-right:72px; }
  .badge{ position:absolute; top:14px; right:14px; padding:3px 6px; border-radius:9999px; font-size:12px; line-height:1.2; color:#fff; background:var(--fill); }
  
  /* 진행바: 카드 오른쪽 끝까지 */
  .progress{ width:100%; display:flex; justify-content:space-between; gap:0; }
  .dot{ width:22px; height:16px; border-radius:4px; background:var(--dot-off); }
  .dot.on{ background:var(--fill); }
  
  /* CTA */
  .cta-wrap{ margin-top:auto; }
  .cta{
    width:100%; height:52px; border:none; border-radius:12px;
    background:var(--cta); color:var(--cta-ink); font-size:16px; font-weight:700; letter-spacing:-.2px; cursor:pointer;
  }
  .cta:active{ transform:translateY(1px); }
  
  /* ---------- 모달 ---------- */
  .backdrop{
    position:fixed; inset:0; background:rgba(0,0,0,.45);
    backdrop-filter:saturate(120%) blur(1.5px);
    opacity:0; pointer-events:none; transition:opacity .18s ease;
  }
  .backdrop.is-open{ opacity:1; pointer-events:auto; }
  
  .sheet{
    position:fixed; left:50%; top:50%; transform:translate(-50%,-50%) scale(.96);
    width:min(86vw, 360px);
    background:#fff; border-radius:16px; box-shadow:0 24px 60px rgba(0,0,0,.25);
    padding:24px 20px 20px;
    opacity:0; pointer-events:none; transition:opacity .18s ease, transform .18s ease;
  }
  .sheet.is-open{ opacity:1; pointer-events:auto; transform:translate(-50%,-50%) scale(1); }
  
  .sheet-close{
    position:absolute; top:8px; right:8px;
    width:36px; height:36px; border-radius:9999px; background:#f3f4f6; border:1px solid #e5e7eb;
    display:inline-flex; align-items:center; justify-content:center; cursor:pointer;
  }
  .sheet-icon{ width:96px; height:96px; object-fit:contain; display:block; margin:4px auto 12px; }
  .sheet-title{ margin:0 0 8px; font-size:18px; font-weight:800; text-align:center; }
  .sheet-desc{ margin:0; font-size:14px; line-height:1.6; color:#4b5563; text-align:center; }
  
  /* 375×812 미리보기(디자인 확인용) */
  body.fixed812{
    background:#f5f5f7; min-height:100vh;
    display:flex; align-items:center; justify-content:center;
  }
  body.fixed812 .app{
    width:375px; height:812px; min-height:auto; margin:0;
    border-radius:32px; overflow:auto; box-sizing:border-box;
    padding-top:44px; padding-right:16px; padding-left:16px; padding-bottom:107px;
  }
  